<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="preload" href="fonts.googleapis.com"/><title>Day 84 -  Peterson&#x27;s Solution To Critical Section Problem - zainsci-blog</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:title" content="zainsci-blog"/><meta property="og:description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:image" content="https://zainsci.github.io/potrait.jpg"/><meta property="og:url" content="https://zainsci.github.io/blog"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:site_name" content="zainsci-blog"/><meta name="twitter:image:alt" content="zainsci&#x27;s portrait"/><meta name="next-head-count" content="13"/><link rel="preload" href="/blog/_next/static/css/8dd43998ba19279e04dd.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/8dd43998ba19279e04dd.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/blog/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework-e94dbaf0997f03610aa9.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/main-24558fd1fc0c06f97b7b.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-7c7cb2011dad29200572.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/362-5c97893fc018b777fe14.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-d3a842e6fb8595946df3.js" as="script"/></head><body><div id="__next"><header class="header"><div><h3 class="logo">zainsci-blog</h3><div class="nav__toggler"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div><nav class="nav"><ul class="nav__list"><li class="nav__item"><a class="nav__link" href="/blog">Home</a></li><li class="nav__item"><a href="https://zainsci.github.io" class="nav__link" target="_blank" rel="noopener noreferrer">Portfolio</a></li><li class="nav__item"><a class="nav__link" href="/blog/about">About</a></li><li class="nav__item"><a class="nav__link" href="/blog/contact">Contact</a></li><li class="nav__item"><div class="toggler"><a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></a></div></li></ul></nav></header><a class="skip-link" href="#main">Skip to main</a><main id="main"><article class="article" itemscope="" itemType="http://schema.org/Article"><div class="share"><p>Share</p><div class="share__buttons"><a href="https://twitter.com/intent/tweet?url=https://zainsci.github.io/blog/day-84&amp;text=Day 84 -  Peterson&#x27;s Solution To Critical Section Problem
&amp;hashtags=zainsci,OperatingSystems" target="_blank" rel="noreferrer" class="icon__button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://www.facebook.com/sharer/sharer.php?u=zainsci.github.io/blog/day-84" target="_blank" rel="noreferrer" class="icon__button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a></div></div><header class="article__header"><h1 itemProp="headline">Day 84 -  Peterson&#x27;s Solution To Critical Section Problem</h1><div itemProp="datePublished">2021-03-25</div></header><section itemProp="articleBody" class="article__body"><p>Last time we looked at the hardware-based solutions to the Critical Section Problem and now we will be learning about one of the most popular software-based solutions to the CSP. It is called Peterson's Solution.</p>
<h3>Peterson's Solution</h3>
<p>Peterson's Solution is an algorithmic solution to the critical section problem. it illustrates some of the complexities of software design that addresses the requirements of mutual exclusion, progress and bounded waiting. But because of how modern computer architectures perform instructions it does not guarantees that it will work properly.</p>
<pre><code class="language-py">while True:
  flag[i] = True
  turn = j
  while flag[j] and turn == j:
      # critical section
      flag[i] = False
  # remainder section
</code></pre>
<p>Peterson's Solution works only between two process that are alternating their execution between critical section and remainder section. These processes are numbered <em>P0</em> and <em>P1</em>. It requires two processes to share data items.</p>
<pre><code class="language-py">turn = i
</code></pre>
<p>The variable <code>turn</code> denotes which turn it is to enter its critical section and variable <code>flag[i]</code> is used to indicate the the porcess 1 is ready to enter it critical seciton. Now we will se how the algorithm works.</p>
<p>First it will set the <code>flag[i]</code> to True to indicate that it is ready to enter its critical section while also assigning <code>j</code> to variable <code>turn</code> to indicate that other processes can also enter their critical section and currently it is <code>j</code>'s turn to enter the section. Then it checks that if it is still <code>j</code>'s turn and it's flag is set to true other wise it will set it to false. After that the process whose flag is set to true will enter critical section.
This way:</p>
<ul>
<li>Mutual exclusion is preserved.</li>
<li>The progress requirment is satisfied.</li>
<li>The bounded-waiting requirement is met.</li>
</ul>
<h3>Disadvantages Of Peterson's Solution</h3>
<ul>
<li>Only works for two processes at a time</li>
<li>CPU time is wasted</li>
</ul>
</section></article><hr/><div class="bio"><div class="bio__meta"><img src="/blog/author.jpg" alt="zainsci" width="96px" height="96px"/><strong>zainsci</strong><div class="social__icons"><a href="https://twitter.com/zainsci" target="_blank" rel="noreferrer noopener" class="icon__button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://instagram.com/zainsci" target="_blank" rel="noreferrer noopener" class="icon__button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-instagram"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a><a href="https://github.com/zainsci" target="_blank" rel="noreferrer noopener" class="icon__button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></div></div><div class="bio__summary"></div></div></main><footer class="footer"><div>Copyright Â© <!-- -->2021<!-- --> zainsci</div><div>Built with Next.js by<!-- --> <a href="https://zainsci.github.io" target="_blank" rel="noopener noreferrer">zainsci</a></div><div><div class="social__icons"><a href="https://twitter.com/zainsci" target="_blank" rel="noreferrer noopener" class="icon__button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://instagram.com/zainsci" target="_blank" rel="noreferrer noopener" class="icon__button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-instagram"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a><a href="https://github.com/zainsci" target="_blank" rel="noreferrer noopener" class="icon__button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Day 84 -  Peterson's Solution To Critical Section Problem","date":"2021-03-25","slug":"day-84","content":"\u003cp\u003eLast time we looked at the hardware-based solutions to the Critical Section Problem and now we will be learning about one of the most popular software-based solutions to the CSP. It is called Peterson's Solution.\u003c/p\u003e\n\u003ch3\u003ePeterson's Solution\u003c/h3\u003e\n\u003cp\u003ePeterson's Solution is an algorithmic solution to the critical section problem. it illustrates some of the complexities of software design that addresses the requirements of mutual exclusion, progress and bounded waiting. But because of how modern computer architectures perform instructions it does not guarantees that it will work properly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-py\"\u003ewhile True:\r\n  flag[i] = True\r\n  turn = j\r\n  while flag[j] and turn == j:\r\n      # critical section\r\n      flag[i] = False\r\n  # remainder section\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ePeterson's Solution works only between two process that are alternating their execution between critical section and remainder section. These processes are numbered \u003cem\u003eP0\u003c/em\u003e and \u003cem\u003eP1\u003c/em\u003e. It requires two processes to share data items.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-py\"\u003eturn = i\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe variable \u003ccode\u003eturn\u003c/code\u003e denotes which turn it is to enter its critical section and variable \u003ccode\u003eflag[i]\u003c/code\u003e is used to indicate the the porcess 1 is ready to enter it critical seciton. Now we will se how the algorithm works.\u003c/p\u003e\n\u003cp\u003eFirst it will set the \u003ccode\u003eflag[i]\u003c/code\u003e to True to indicate that it is ready to enter its critical section while also assigning \u003ccode\u003ej\u003c/code\u003e to variable \u003ccode\u003eturn\u003c/code\u003e to indicate that other processes can also enter their critical section and currently it is \u003ccode\u003ej\u003c/code\u003e's turn to enter the section. Then it checks that if it is still \u003ccode\u003ej\u003c/code\u003e's turn and it's flag is set to true other wise it will set it to false. After that the process whose flag is set to true will enter critical section.\r\nThis way:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMutual exclusion is preserved.\u003c/li\u003e\n\u003cli\u003eThe progress requirment is satisfied.\u003c/li\u003e\n\u003cli\u003eThe bounded-waiting requirement is met.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eDisadvantages Of Peterson's Solution\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eOnly works for two processes at a time\u003c/li\u003e\n\u003cli\u003eCPU time is wasted\u003c/li\u003e\n\u003c/ul\u003e\n","tags":["Operating-Systems"]}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"day-84"},"buildId":"rE2b9iCY32aAeR9STxPqx","assetPrefix":"/blog","isFallback":false,"gsp":true}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-eef578260fd80f8fff94.js"></script><script src="/blog/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" async=""></script><script src="/blog/_next/static/chunks/framework-e94dbaf0997f03610aa9.js" async=""></script><script src="/blog/_next/static/chunks/main-24558fd1fc0c06f97b7b.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-7c7cb2011dad29200572.js" async=""></script><script src="/blog/_next/static/chunks/362-5c97893fc018b777fe14.js" async=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-d3a842e6fb8595946df3.js" async=""></script><script src="/blog/_next/static/rE2b9iCY32aAeR9STxPqx/_buildManifest.js" async=""></script><script src="/blog/_next/static/rE2b9iCY32aAeR9STxPqx/_ssgManifest.js" async=""></script></body></html>