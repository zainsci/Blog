<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="preload" href="fonts.googleapis.com"/><title>Day 95 - Recovering From Deadlocks - zainsci-blog</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:title" content="zainsci-blog"/><meta property="og:description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:image" content="https://zainsci.github.io/potrait.jpg"/><meta property="og:url" content="https://zainsci.github.io/blog"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:site_name" content="zainsci-blog"/><meta name="twitter:image:alt" content="zainsci&#x27;s portrait"/><meta name="next-head-count" content="13"/><link rel="preload" href="/blog/_next/static/css/84d451ea0fea089d896b.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/84d451ea0fea089d896b.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/blog/_next/static/chunks/webpack-08bb45713b568a3c61e0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework-9bf9f61c21c28db23d5b.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/commons-0392153403293a8cddd0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/main-06aae30c278b6ca2f76a.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-03337388e7702cb579d9.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/296-8ee5d6e875fb38ba58c0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-124259c81ad6abc14284.js" as="script"/></head><body><div id="__next"><header class="header"><div><h3 class="logo">zainsci-blog</h3><div class="nav__toggler"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div><nav class="nav"><ul class="nav__list"><li class="nav__item"><a class="nav__link" href="/blog">Home</a></li><li class="nav__item"><a href="https://zainsci.github.io" class="nav__link" target="_blank" rel="noopener noreferrer">Portfolio</a></li><li class="nav__item"><a class="nav__link" href="/blog/about">About</a></li><li class="nav__item"><a class="nav__link" href="/blog/contact">Contact</a></li><li class="nav__item"><div class="toggler"><a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></a></div></li></ul></nav></header><a class="skip-link" href="#main">Skip to main</a><main id="main"><article class="article" itemscope="" itemType="http://schema.org/Article"><div class="share"><p>Share</p><div class="share__buttons"><a href="https://twitter.com/intent/tweet?url=https://zainsci.github.ioday-95&amp;text=Day 95 - Recovering From Deadlocks
&amp;hashtags=zainsci,OperatingSystems" target="_blank" rel="noreferrer" class="share__button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://www.facebook.com/sharer/sharer.php?u=zainsci.github.io%2Fblogday-95" target="_blank" rel="noreferrer" class="share__button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a></div></div><header class="article__header"><h1 itemProp="headline">Day 95 - Recovering From Deadlocks</h1><div itemProp="datePublished">2021-04-05</div></header><section itemProp="articleBody" class="article__body"><p>This is the last post about deadlocks and in this we will be learning about how to recover from deadlocks. When a deadlock detection algorithm detects a deadlock in the system we must recover from it. Several alternatives can help us for recovering from deadlocks.</p>
<p>There are two ways to recover from the deadlocks, <strong>manually</strong> and <strong>automatically</strong>. If a deadlock appears in the system we can either tell the operator to handle it or let the system recover from it by himself.</p>
<p>There are two options for breaking a deadlock.</p>
<ul>
<li>Abort some therads to break circular wait.</li>
<li>Preempt some resources from one or more deadlock threads.</li>
</ul>
<h3>Process And Thread Termination</h3>
<p>There are two ways to abort or terminate a process when there is a deadlock in a system. Either terminate all the process in the deadlock or one at a time.</p>
<ul>
<li><strong>Terminating all the process at the same time can be expensive.</strong> There may be many processes in the deadlock that may have done a lot of computing which will go to waste if we terminate all the processes. These computations have to be computed again by the porcesses.</li>
<li><strong>Terminating one process at a time until the deadlock is eleminated.</strong> This too have its own ups and downs as we have to know what process in the deadlock should we terminate to avoid less computation to go to waste and also the detection algorithm is again invoked to check if there is still a deadlock in the system.</li>
</ul>
<p>Terminating a deadlock process is not an easy thing to do. There may be some process in the deadlock that is writing to a file, terminating the process can leave the file in an incorrect state. Or a process could be holding a mutex lock.</p>
<h3>Resource Preemption</h3>
<p>This way of deadling with deadlocks is to preempt the resources from one process to give these resources to some other process until the deadlock is terminated. We take resources from a waiting process and give it to some other process. We can then either terminate the process or we have to roll it back to some previous state so it can ask for resources again to complete its execution.</p>
<p>Following are some factors to consider when preempting resources.</p>
<h4>Selection Of Vcitim</h4>
<p>Selection of victim is the most important task in preempting a process. To preempt a process we have to consider how much time it consumed or how many resources it is holding right now.</p>
<h4>Rollback</h4>
<p>When a process is preempted it cannot function properly so we have to roll it back to some safe state so it can be restarted later.</p>
<h4>Starvation</h4>
<p>We must ensure that no one process is selected victim for more than the limit amount in order to prevent the process from entering into starvation state.</p>
</section></article><hr/></main><footer class="footer"><div>Copyright Â© <!-- -->2021<!-- --> zainsci</div><div>Built with Next.js by<!-- --> <a href="https://zainsci.github.io" target="_blank" rel="noopener noreferrer">zainsci</a></div><div><div class="social__icons"><a href="https://twitter.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/blog/assets/svgs/twitter.svg" alt="twitter logo"/></a><a href="https://instagram.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/blog/assets/svgs/instagram.svg" alt="instagram logo"/></a><a href="https://github.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/blog/assets/svgs/github.svg" alt="github logo"/></a></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Day 95 - Recovering From Deadlocks","date":"2021-04-05","slug":"day-95","content":"\u003cp\u003eThis is the last post about deadlocks and in this we will be learning about how to recover from deadlocks. When a deadlock detection algorithm detects a deadlock in the system we must recover from it. Several alternatives can help us for recovering from deadlocks.\u003c/p\u003e\n\u003cp\u003eThere are two ways to recover from the deadlocks, \u003cstrong\u003emanually\u003c/strong\u003e and \u003cstrong\u003eautomatically\u003c/strong\u003e. If a deadlock appears in the system we can either tell the operator to handle it or let the system recover from it by himself.\u003c/p\u003e\n\u003cp\u003eThere are two options for breaking a deadlock.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAbort some therads to break circular wait.\u003c/li\u003e\n\u003cli\u003ePreempt some resources from one or more deadlock threads.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eProcess And Thread Termination\u003c/h3\u003e\n\u003cp\u003eThere are two ways to abort or terminate a process when there is a deadlock in a system. Either terminate all the process in the deadlock or one at a time.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eTerminating all the process at the same time can be expensive.\u003c/strong\u003e There may be many processes in the deadlock that may have done a lot of computing which will go to waste if we terminate all the processes. These computations have to be computed again by the porcesses.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTerminating one process at a time until the deadlock is eleminated.\u003c/strong\u003e This too have its own ups and downs as we have to know what process in the deadlock should we terminate to avoid less computation to go to waste and also the detection algorithm is again invoked to check if there is still a deadlock in the system.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eTerminating a deadlock process is not an easy thing to do. There may be some process in the deadlock that is writing to a file, terminating the process can leave the file in an incorrect state. Or a process could be holding a mutex lock.\u003c/p\u003e\n\u003ch3\u003eResource Preemption\u003c/h3\u003e\n\u003cp\u003eThis way of deadling with deadlocks is to preempt the resources from one process to give these resources to some other process until the deadlock is terminated. We take resources from a waiting process and give it to some other process. We can then either terminate the process or we have to roll it back to some previous state so it can ask for resources again to complete its execution.\u003c/p\u003e\n\u003cp\u003eFollowing are some factors to consider when preempting resources.\u003c/p\u003e\n\u003ch4\u003eSelection Of Vcitim\u003c/h4\u003e\n\u003cp\u003eSelection of victim is the most important task in preempting a process. To preempt a process we have to consider how much time it consumed or how many resources it is holding right now.\u003c/p\u003e\n\u003ch4\u003eRollback\u003c/h4\u003e\n\u003cp\u003eWhen a process is preempted it cannot function properly so we have to roll it back to some safe state so it can be restarted later.\u003c/p\u003e\n\u003ch4\u003eStarvation\u003c/h4\u003e\n\u003cp\u003eWe must ensure that no one process is selected victim for more than the limit amount in order to prevent the process from entering into starvation state.\u003c/p\u003e\n","tags":["Operating-Systems"]}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"day-95"},"buildId":"0tvHH4kjSXSVkVKJif8Ds","assetPrefix":"/blog","isFallback":false,"gsp":true}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/blog/_next/static/chunks/webpack-08bb45713b568a3c61e0.js" async=""></script><script src="/blog/_next/static/chunks/framework-9bf9f61c21c28db23d5b.js" async=""></script><script src="/blog/_next/static/chunks/commons-0392153403293a8cddd0.js" async=""></script><script src="/blog/_next/static/chunks/main-06aae30c278b6ca2f76a.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-03337388e7702cb579d9.js" async=""></script><script src="/blog/_next/static/chunks/296-8ee5d6e875fb38ba58c0.js" async=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-124259c81ad6abc14284.js" async=""></script><script src="/blog/_next/static/0tvHH4kjSXSVkVKJif8Ds/_buildManifest.js" async=""></script><script src="/blog/_next/static/0tvHH4kjSXSVkVKJif8Ds/_ssgManifest.js" async=""></script></body></html>