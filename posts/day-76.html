<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="preload" href="fonts.googleapis.com"/><title>Day 76 - Threading Libraries And Examples - zainsci-blog</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:title" content="zainsci-blog"/><meta property="og:description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:image" content="https://zainsci.github.io/potrait.jpg"/><meta property="og:url" content="https://zainsci.github.io/blog"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:site_name" content="zainsci-blog"/><meta name="twitter:image:alt" content="zainsci&#x27;s portrait"/><meta name="next-head-count" content="13"/><link rel="preload" href="/blog/_next/static/css/84d451ea0fea089d896b.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/84d451ea0fea089d896b.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/blog/_next/static/chunks/webpack-c36ef2969eb507e77075.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework-9bf9f61c21c28db23d5b.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/commons-0392153403293a8cddd0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/main-06aae30c278b6ca2f76a.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-03337388e7702cb579d9.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/296-8ee5d6e875fb38ba58c0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-a66dbdf5ee19b291843c.js" as="script"/></head><body><div id="__next"><header class="header"><div><h3 class="logo">zainsci-blog</h3><div class="nav__toggler"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div><nav class="nav"><ul class="nav__list"><li class="nav__item"><a class="nav__link" href="/blog">Home</a></li><li class="nav__item"><a href="https://zainsci.github.io" class="nav__link" target="_blank" rel="noopener noreferrer">Portfolio</a></li><li class="nav__item"><a class="nav__link" href="/blog/about">About</a></li><li class="nav__item"><a class="nav__link" href="/blog/contact">Contact</a></li><li class="nav__item"><div class="toggler"><a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></a></div></li></ul></nav></header><a class="skip-link" href="#main">Skip to main</a><main id="main"><article class="article" itemscope="" itemType="http://schema.org/Article"><div class="share"><p>Share</p><div class="share__buttons"><a href="https://twitter.com/intent/tweet?url=https://zainsci.github.ioday-76&amp;text=Day 76 - Threading Libraries And Examples
&amp;hashtags=zainsci,OperatingSystems" target="_blank" rel="noreferrer" class="share__button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://www.facebook.com/sharer/sharer.php?u=zainsci.github.io%2Fblogday-76" target="_blank" rel="noreferrer" class="share__button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a></div></div><header class="article__header"><h1 itemProp="headline">Day 76 - Threading Libraries And Examples</h1><div itemProp="datePublished">2021-03-17</div></header><section itemProp="articleBody" class="article__body"><p>A Threading Library is a piece of code that provides the programmers with APIs to create and manage threads in an Operating Systems. There are two ways to implement a thread library. One is to write a user-level library and the other is kernel-level library.</p>
<ul>
<li>
<p><strong>User-Level Library.</strong> This way a library is provided entirely in user space with no kernel support and all code and data structures exist in user-space. This means that invoking a function will result in only local funciton call in the user space but not a system call.</p>
</li>
<li>
<p><strong>Kernel-Level Library.</strong> This way the library is fully supported by the operating system and data structures and code exist in kernel. Invoking a function call with result in system call directly to the kernel.</p>
</li>
</ul>
<p>Following three are the main threading libraries in majority use.</p>
<ol>
<li><strong>POSIX Pthreads.</strong> It may be provided as a user or kernel library as an extension to the POSIX standards.</li>
<li><strong>Win32 Threads.</strong> It is provided as a kernel library in the Windows system.</li>
<li><strong>Java Threads.</strong> This library is provided to create and manage threads directly in Java programs and their implementation is depended on the OS on which the JVM (Java Virtual Machine) is running.</li>
</ol>
<h2>Examples In Operating Systems</h2>
<p>Following are the examples of threads in use in Operating Systems.</p>
<h3>Windows Operating System</h3>
<p>Win32 library supports one-to-one threading model but also provides a library to implement many-to-many model. A windows OS run an application as a single process and every process can have one or more threads in it. Every thread in windows has following components.</p>
<ul>
<li>A Thread ID</li>
<li>Registers</li>
<li>A user-stack in user mode</li>
<li>A kernel-stack in kernel mode</li>
<li>A private storage area used by run-time libraries and dynamic-link libraries.</li>
</ul>
<p>The key data structures for windows threads are ETHREAD (Executive Thread Block), KTHREAD (Kernel Thread Block), and TEB (Thread Environment Block). ETHREAD and KTHREAD can only be accessed by the kernel while TEB can be accessed by the user.</p>
<h3>Linux Operating Systems</h3>
<p>Linux doesn't distinguish between processes and threads. It uses the more generic term tasks for representing processes and threads. Linux provides the <strong>fork()</strong> system call that completely duplicates a process task. a separate system call called <strong>clone()</strong> is also provided to create threads. These are controlled by different flags.</p>
</section></article><hr/></main><footer class="footer"><div>Copyright Â© <!-- -->2021<!-- --> zainsci</div><div>Built with Next.js by<!-- --> <a href="https://zainsci.github.io" target="_blank" rel="noopener noreferrer">zainsci</a></div><div><div class="social__icons"><a href="https://twitter.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/assets/svgs/twitter.svg" alt="twitter logo"/></a><a href="https://instagram.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/assets/svgs/instagram.svg" alt="instagram logo"/></a><a href="https://github.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/assets/svgs/github.svg" alt="github logo"/></a></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Day 76 - Threading Libraries And Examples","date":"2021-03-17","slug":"day-76","content":"\u003cp\u003eA Threading Library is a piece of code that provides the programmers with APIs to create and manage threads in an Operating Systems. There are two ways to implement a thread library. One is to write a user-level library and the other is kernel-level library.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eUser-Level Library.\u003c/strong\u003e This way a library is provided entirely in user space with no kernel support and all code and data structures exist in user-space. This means that invoking a function will result in only local funciton call in the user space but not a system call.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eKernel-Level Library.\u003c/strong\u003e This way the library is fully supported by the operating system and data structures and code exist in kernel. Invoking a function call with result in system call directly to the kernel.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFollowing three are the main threading libraries in majority use.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003ePOSIX Pthreads.\u003c/strong\u003e It may be provided as a user or kernel library as an extension to the POSIX standards.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eWin32 Threads.\u003c/strong\u003e It is provided as a kernel library in the Windows system.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eJava Threads.\u003c/strong\u003e This library is provided to create and manage threads directly in Java programs and their implementation is depended on the OS on which the JVM (Java Virtual Machine) is running.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eExamples In Operating Systems\u003c/h2\u003e\n\u003cp\u003eFollowing are the examples of threads in use in Operating Systems.\u003c/p\u003e\n\u003ch3\u003eWindows Operating System\u003c/h3\u003e\n\u003cp\u003eWin32 library supports one-to-one threading model but also provides a library to implement many-to-many model. A windows OS run an application as a single process and every process can have one or more threads in it. Every thread in windows has following components.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eA Thread ID\u003c/li\u003e\n\u003cli\u003eRegisters\u003c/li\u003e\n\u003cli\u003eA user-stack in user mode\u003c/li\u003e\n\u003cli\u003eA kernel-stack in kernel mode\u003c/li\u003e\n\u003cli\u003eA private storage area used by run-time libraries and dynamic-link libraries.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe key data structures for windows threads are ETHREAD (Executive Thread Block), KTHREAD (Kernel Thread Block), and TEB (Thread Environment Block). ETHREAD and KTHREAD can only be accessed by the kernel while TEB can be accessed by the user.\u003c/p\u003e\n\u003ch3\u003eLinux Operating Systems\u003c/h3\u003e\n\u003cp\u003eLinux doesn't distinguish between processes and threads. It uses the more generic term tasks for representing processes and threads. Linux provides the \u003cstrong\u003efork()\u003c/strong\u003e system call that completely duplicates a process task. a separate system call called \u003cstrong\u003eclone()\u003c/strong\u003e is also provided to create threads. These are controlled by different flags.\u003c/p\u003e\n","tags":["Operating-Systems"]}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"day-76"},"buildId":"_4a_Ebt9XtSQpJB4pVG43","assetPrefix":"/blog","isFallback":false,"gsp":true}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/blog/_next/static/chunks/webpack-c36ef2969eb507e77075.js" async=""></script><script src="/blog/_next/static/chunks/framework-9bf9f61c21c28db23d5b.js" async=""></script><script src="/blog/_next/static/chunks/commons-0392153403293a8cddd0.js" async=""></script><script src="/blog/_next/static/chunks/main-06aae30c278b6ca2f76a.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-03337388e7702cb579d9.js" async=""></script><script src="/blog/_next/static/chunks/296-8ee5d6e875fb38ba58c0.js" async=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-a66dbdf5ee19b291843c.js" async=""></script><script src="/blog/_next/static/_4a_Ebt9XtSQpJB4pVG43/_buildManifest.js" async=""></script><script src="/blog/_next/static/_4a_Ebt9XtSQpJB4pVG43/_ssgManifest.js" async=""></script></body></html>