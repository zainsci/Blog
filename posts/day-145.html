<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="preload" href="fonts.googleapis.com"/><title>Day 145 - React Forms With Formik - zainsci-blog</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:title" content="zainsci-blog"/><meta property="og:description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:image" content="https://zainsci.github.io/potrait.jpg"/><meta property="og:url" content="https://zainsci.github.io/blog"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:site_name" content="zainsci-blog"/><meta name="twitter:image:alt" content="zainsci&#x27;s portrait"/><meta name="next-head-count" content="13"/><link rel="preload" href="/blog/_next/static/css/84d451ea0fea089d896b.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/84d451ea0fea089d896b.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/blog/_next/static/chunks/webpack-d2ea490c71c2efdd01c9.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework-9bf9f61c21c28db23d5b.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/commons-0392153403293a8cddd0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/main-06aae30c278b6ca2f76a.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-d7d985800563919559a7.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/362-161b6498af4ad75ed6ae.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-143c25a509ce81de2368.js" as="script"/></head><body><div id="__next"><header class="header"><div><h3 class="logo">zainsci-blog</h3><div class="nav__toggler"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div><nav class="nav"><ul class="nav__list"><li class="nav__item"><a class="nav__link" href="/blog">Home</a></li><li class="nav__item"><a href="https://zainsci.github.io" class="nav__link" target="_blank" rel="noopener noreferrer">Portfolio</a></li><li class="nav__item"><a class="nav__link" href="/blog/about">About</a></li><li class="nav__item"><a class="nav__link" href="/blog/contact">Contact</a></li><li class="nav__item"><div class="toggler"><a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></a></div></li></ul></nav></header><a class="skip-link" href="#main">Skip to main</a><main id="main"><article class="article" itemscope="" itemType="http://schema.org/Article"><div class="share"><p>Share</p><div class="share__buttons"><a href="https://twitter.com/intent/tweet?url=https://zainsci.github.ioday-145&amp;text=Day 145 - React Forms With Formik
&amp;hashtags=zainsci,React,JavaScript" target="_blank" rel="noreferrer" class="share__button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://www.facebook.com/sharer/sharer.php?u=zainsci.github.io%2Fblogday-145" target="_blank" rel="noreferrer" class="share__button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a></div></div><header class="article__header"><h1 itemProp="headline">Day 145 - React Forms With Formik</h1><div itemProp="datePublished">2021-05-25</div></header><section itemProp="articleBody" class="article__body"><p>Building forms with React can be painful when you have to do all the things yourself like validation and handeling form submission etc But there is a way to deal with it by using a React library called Formik. Formik helps you create and manage forms in your React project.</p>
<p>Formik helps you with three most important parts of a form in React.</p>
<ul>
<li>Getting values in and out of form state</li>
<li>Validation and error messages</li>
<li>Handling form submission</li>
</ul>
<p>Now we know what formik is and what it will do for us we will now see how to use it in our project.</p>
<h2>Installing Formik</h2>
<p>To install Formik use <code>npm</code> or <code>yarn</code> to add it to your project.</p>
<pre><code class="language-bash">$ npm install formik --save
$ yarn add formik
</code></pre>
<h2>Formik In React</h2>
<p>To create a form with <code>formik</code> in React we use <code>useFormik</code> hook by the <code>Formik</code> Library. <code>useFormik</code> internally uses <code>Formik</code> component which renders a React Contect Provider to manage state of the form and <code>useFormik</code> hook is also not meant for the majority of the use cases. So we will be only using <code>Formik</code> react component to build our forms in React.</p>
<p>First of all import <code>Formik</code> from formik and use it in the return statement. <code>Formik</code> component uses render props pattern to build forms.</p>
<pre><code class="language-jsx">import { Formik } from "formik";

const Form = () => {
  return (
    &#x3C;div>
      &#x3C;h1>Login&#x3C;/h1>
      &#x3C;Formik>{}&#x3C;/Formik>
    &#x3C;/div>
  );
};
</code></pre>
<p>Formik component requires two props when using the <code>Formik</code> component. One is <code>initialValues</code> and the other is <code>onSubmit</code></p>
<ul>
<li><code>initialValues</code> takes a JS object which includes all the initial values of the inputs we use in the form like <code>username</code> and <code>email</code> etc.</li>
<li><code>onSubmit</code> takes a function to deal with the values of the form when we submit the form.</li>
</ul>
<p>Inside the <code>Formik</code> component it will require a function which will render a form and takes a JS object as an argument. The object arguemnt includes variables like <code>values</code>, <code>handleChange</code> etc to manage the values of the form inputs.</p>
<pre><code class="language-jsx">&#x3C;Formik
  initialValues={{ username: "", password: "" }}
  onSubmit={data => console.log(data)}
>
  {({ values, touched, handleChange, handleBlur, handleSubmit }) => {
    return (
      &#x3C;form onSubmit={handleSubmit}>
        &#x3C;input
          type="text"
          value={values.username}
          onChange={handleChange}
          onBlur={handleBlur}
        />
        &#x3C;input
          type="password"
          value={values.password}
          onChange={handleChange}
          onBlur={handleBlur}
        />
        &#x3C;button type="submit">Login&#x3C;/button>
      &#x3C;/form>
    );
  }}
&#x3C;/Formik>
</code></pre>
<p>Okay now that we have built a simple form with Formik how can we validate a check for errors?</p>
<h2>Form Validation</h2>
<p>We can do form validation straight from Formik component. This will do the trick but it is recommended to use a another library called <code>yup</code> to handle form validation.
First of all we have to inclue a prop in the Formik component which will check for errors in the form.</p>
<pre><code class="language-jsx">&#x3C;Formik
  initialValues={{ username: "", password: "" }}
  onSubmit={data => console.log(data)}
  validate={data => {
    const errors = {};
    if (!data.username) {
      errors.username = "Username Required!";
    }

    return errors;
  }}
>
</code></pre>
<p>After that we can also use <code>errors</code> and <code>isSumbiting</code> values that are passed inside the Formik component render prop.
Then we can use these to do validation.</p>
<pre><code class="language-jsx">{
  ({
    values,
    touched,
    handleChange,
    handleBlur,
    handleSubmit,
    errors,
    touched,
    isSubmitting,
  }) => {
    // Here comes the form
    {
      // This will print error if there is one
      errors.username &#x26;&#x26; touched.username &#x26;&#x26; errors.username;
    }
  };
}
</code></pre>
<h2>Simplifying</h2>
<p>To simplyfy this more we can use the <code>Form</code>, <code>Field</code> and <code>ErrorMessage</code> components from the Formik library.</p>
<pre><code class="language-jsx">import React from "react";
import { Formik, Form, Field, ErrorMessage } from "formik";

const UserForm = () => {
  return (
    &#x3C;Formik
      initialValues={{ username: "", password: "" }}
      onSubmit={(data, { setSubmitting }) => {
        console.log(JSON.stringify(data, null, 2));
        setSubmitting(false);
      }}
      validate={data => {
        const errors = {};
        if (!data.username) {
          errors.username = "Username Required!";
        }

        return errors;
      }}
    >
      {({ isSubmitting }) => {
        &#x3C;Form>
          &#x3C;Field type="text" name="username" />
          &#x3C;ErrorMessage name="username" component="div" />
          &#x3C;Field type="password" name="password" />
          &#x3C;button type="submit" disabled={isSubmitting}>
            Submit
          &#x3C;/button>
        &#x3C;/Form>;
      }}
    &#x3C;/Formik>
  );
};
</code></pre>
<p>The values of the form can be accessed by the name we give them in the Field component. Hope you learned something new. Next I will be starting to make my own Design System.</p>
</section></article><hr/></main><footer class="footer"><div>Copyright © <!-- -->2021<!-- --> zainsci</div><div>Built with Next.js by<!-- --> <a href="https://zainsci.github.io" target="_blank" rel="noopener noreferrer">zainsci</a></div><div><div class="social__icons"><a href="https://twitter.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/blog/assets/svgs/twitter.svg" alt="twitter logo"/></a><a href="https://instagram.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/blog/assets/svgs/instagram.svg" alt="instagram logo"/></a><a href="https://github.com/zainsci" target="_blank" rel="noreferrer noopener"><img src="/blog/assets/svgs/github.svg" alt="github logo"/></a></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Day 145 - React Forms With Formik","date":"2021-05-25","slug":"day-145","content":"\u003cp\u003eBuilding forms with React can be painful when you have to do all the things yourself like validation and handeling form submission etc But there is a way to deal with it by using a React library called Formik. Formik helps you create and manage forms in your React project.\u003c/p\u003e\n\u003cp\u003eFormik helps you with three most important parts of a form in React.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGetting values in and out of form state\u003c/li\u003e\n\u003cli\u003eValidation and error messages\u003c/li\u003e\n\u003cli\u003eHandling form submission\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNow we know what formik is and what it will do for us we will now see how to use it in our project.\u003c/p\u003e\n\u003ch2\u003eInstalling Formik\u003c/h2\u003e\n\u003cp\u003eTo install Formik use \u003ccode\u003enpm\u003c/code\u003e or \u003ccode\u003eyarn\u003c/code\u003e to add it to your project.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ npm install formik --save\r\n$ yarn add formik\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eFormik In React\u003c/h2\u003e\n\u003cp\u003eTo create a form with \u003ccode\u003eformik\u003c/code\u003e in React we use \u003ccode\u003euseFormik\u003c/code\u003e hook by the \u003ccode\u003eFormik\u003c/code\u003e Library. \u003ccode\u003euseFormik\u003c/code\u003e internally uses \u003ccode\u003eFormik\u003c/code\u003e component which renders a React Contect Provider to manage state of the form and \u003ccode\u003euseFormik\u003c/code\u003e hook is also not meant for the majority of the use cases. So we will be only using \u003ccode\u003eFormik\u003c/code\u003e react component to build our forms in React.\u003c/p\u003e\n\u003cp\u003eFirst of all import \u003ccode\u003eFormik\u003c/code\u003e from formik and use it in the return statement. \u003ccode\u003eFormik\u003c/code\u003e component uses render props pattern to build forms.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-jsx\"\u003eimport { Formik } from \"formik\";\r\n\r\nconst Form = () =\u003e {\r\n  return (\r\n    \u0026#x3C;div\u003e\r\n      \u0026#x3C;h1\u003eLogin\u0026#x3C;/h1\u003e\r\n      \u0026#x3C;Formik\u003e{}\u0026#x3C;/Formik\u003e\r\n    \u0026#x3C;/div\u003e\r\n  );\r\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFormik component requires two props when using the \u003ccode\u003eFormik\u003c/code\u003e component. One is \u003ccode\u003einitialValues\u003c/code\u003e and the other is \u003ccode\u003eonSubmit\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003einitialValues\u003c/code\u003e takes a JS object which includes all the initial values of the inputs we use in the form like \u003ccode\u003eusername\u003c/code\u003e and \u003ccode\u003eemail\u003c/code\u003e etc.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eonSubmit\u003c/code\u003e takes a function to deal with the values of the form when we submit the form.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eInside the \u003ccode\u003eFormik\u003c/code\u003e component it will require a function which will render a form and takes a JS object as an argument. The object arguemnt includes variables like \u003ccode\u003evalues\u003c/code\u003e, \u003ccode\u003ehandleChange\u003c/code\u003e etc to manage the values of the form inputs.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-jsx\"\u003e\u0026#x3C;Formik\r\n  initialValues={{ username: \"\", password: \"\" }}\r\n  onSubmit={data =\u003e console.log(data)}\r\n\u003e\r\n  {({ values, touched, handleChange, handleBlur, handleSubmit }) =\u003e {\r\n    return (\r\n      \u0026#x3C;form onSubmit={handleSubmit}\u003e\r\n        \u0026#x3C;input\r\n          type=\"text\"\r\n          value={values.username}\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n        /\u003e\r\n        \u0026#x3C;input\r\n          type=\"password\"\r\n          value={values.password}\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n        /\u003e\r\n        \u0026#x3C;button type=\"submit\"\u003eLogin\u0026#x3C;/button\u003e\r\n      \u0026#x3C;/form\u003e\r\n    );\r\n  }}\r\n\u0026#x3C;/Formik\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOkay now that we have built a simple form with Formik how can we validate a check for errors?\u003c/p\u003e\n\u003ch2\u003eForm Validation\u003c/h2\u003e\n\u003cp\u003eWe can do form validation straight from Formik component. This will do the trick but it is recommended to use a another library called \u003ccode\u003eyup\u003c/code\u003e to handle form validation.\r\nFirst of all we have to inclue a prop in the Formik component which will check for errors in the form.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-jsx\"\u003e\u0026#x3C;Formik\r\n  initialValues={{ username: \"\", password: \"\" }}\r\n  onSubmit={data =\u003e console.log(data)}\r\n  validate={data =\u003e {\r\n    const errors = {};\r\n    if (!data.username) {\r\n      errors.username = \"Username Required!\";\r\n    }\r\n\r\n    return errors;\r\n  }}\r\n\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter that we can also use \u003ccode\u003eerrors\u003c/code\u003e and \u003ccode\u003eisSumbiting\u003c/code\u003e values that are passed inside the Formik component render prop.\r\nThen we can use these to do validation.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-jsx\"\u003e{\r\n  ({\r\n    values,\r\n    touched,\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    errors,\r\n    touched,\r\n    isSubmitting,\r\n  }) =\u003e {\r\n    // Here comes the form\r\n    {\r\n      // This will print error if there is one\r\n      errors.username \u0026#x26;\u0026#x26; touched.username \u0026#x26;\u0026#x26; errors.username;\r\n    }\r\n  };\r\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eSimplifying\u003c/h2\u003e\n\u003cp\u003eTo simplyfy this more we can use the \u003ccode\u003eForm\u003c/code\u003e, \u003ccode\u003eField\u003c/code\u003e and \u003ccode\u003eErrorMessage\u003c/code\u003e components from the Formik library.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-jsx\"\u003eimport React from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\n\r\nconst UserForm = () =\u003e {\r\n  return (\r\n    \u0026#x3C;Formik\r\n      initialValues={{ username: \"\", password: \"\" }}\r\n      onSubmit={(data, { setSubmitting }) =\u003e {\r\n        console.log(JSON.stringify(data, null, 2));\r\n        setSubmitting(false);\r\n      }}\r\n      validate={data =\u003e {\r\n        const errors = {};\r\n        if (!data.username) {\r\n          errors.username = \"Username Required!\";\r\n        }\r\n\r\n        return errors;\r\n      }}\r\n    \u003e\r\n      {({ isSubmitting }) =\u003e {\r\n        \u0026#x3C;Form\u003e\r\n          \u0026#x3C;Field type=\"text\" name=\"username\" /\u003e\r\n          \u0026#x3C;ErrorMessage name=\"username\" component=\"div\" /\u003e\r\n          \u0026#x3C;Field type=\"password\" name=\"password\" /\u003e\r\n          \u0026#x3C;button type=\"submit\" disabled={isSubmitting}\u003e\r\n            Submit\r\n          \u0026#x3C;/button\u003e\r\n        \u0026#x3C;/Form\u003e;\r\n      }}\r\n    \u0026#x3C;/Formik\u003e\r\n  );\r\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe values of the form can be accessed by the name we give them in the Field component. Hope you learned something new. Next I will be starting to make my own Design System.\u003c/p\u003e\n","tags":["React","JavaScript"]}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"day-145"},"buildId":"iCtEfFfjBJbYjL8njtG0L","assetPrefix":"/blog","isFallback":false,"gsp":true}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/blog/_next/static/chunks/webpack-d2ea490c71c2efdd01c9.js" async=""></script><script src="/blog/_next/static/chunks/framework-9bf9f61c21c28db23d5b.js" async=""></script><script src="/blog/_next/static/chunks/commons-0392153403293a8cddd0.js" async=""></script><script src="/blog/_next/static/chunks/main-06aae30c278b6ca2f76a.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-d7d985800563919559a7.js" async=""></script><script src="/blog/_next/static/chunks/362-161b6498af4ad75ed6ae.js" async=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-143c25a509ce81de2368.js" async=""></script><script src="/blog/_next/static/iCtEfFfjBJbYjL8njtG0L/_buildManifest.js" async=""></script><script src="/blog/_next/static/iCtEfFfjBJbYjL8njtG0L/_ssgManifest.js" async=""></script></body></html>