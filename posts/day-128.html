<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="preload" href="fonts.googleapis.com"/><title>Day 128 - Migrating From GatsbyJS To NextJS [0] - zainsci-blog</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:title" content="zainsci-blog"/><meta property="og:description" content="A place for me, zainsci, to share what I learn about computers and programming."/><meta property="og:image" content="https://zainsci.github.io/potrait.jpg"/><meta property="og:url" content="https://zainsci.github.io/blog"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:site_name" content="zainsci-blog"/><meta name="twitter:image:alt" content="zainsci&#x27;s portrait"/><meta name="next-head-count" content="13"/><link rel="preload" href="/blog/_next/static/css/f5020a7d73287f004ca3.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/f5020a7d73287f004ca3.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/blog/_next/static/chunks/webpack-a7057d0e0ef277a3ac8f.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework-9bf9f61c21c28db23d5b.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/commons-0392153403293a8cddd0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/main-06aae30c278b6ca2f76a.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-117f6fafc0903339435d.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/296-8ee5d6e875fb38ba58c0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-4fb861a235fdc57dda1f.js" as="script"/></head><body><div id="__next"><header><h3 class="logo">zainsci-blog</h3><nav class="nav"><ul class="nav__list"><li class="nav__item"><a class="nav__link" href="/blog">Home</a></li><li class="nav__item"><a href="https://zainsci.github.io" class="nav__link" target="_blank" rel="noopener noreferrer">Portfolio</a></li><li class="nav__item"><a class="nav__link" href="/blog/about">About</a></li><li class="nav__item"><a class="nav__link" href="/blog/contact">Contact</a></li><li class="nav__item"><div class="toggler"><a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></a></div></li></ul></nav></header><a class="skip-link" href="#main">Skip to main</a><main id="main"><div class="share"><p>Share With Others</p><div class="share__buttons"><div class="share__button"><a href="https://twitter.com/intent/tweet?url=https://zainsci.github.ioday-128&amp;text=Day 128 - Migrating From GatsbyJS To NextJS [0]
&amp;hashtags=zainsci,GatsbyJS,NextJS,JavaScript" target="_blank" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a></div><div class="share__button"><a href="https://www.facebook.com/sharer/sharer.php?u=zainsci.github.io%2Fblogday-128" target="_blank" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a></div></div></div><article class="blog__post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">Day 128 - Migrating From GatsbyJS To NextJS [0]</h1><div itemProp="datePublished">2021-05-08</div></header><section itemProp="articleBody"><p>I started this blog at the start of this year and when i started this I thought of building this blog with a JS framework and for that i deceided react and also becasue it was so much to easy to work with comparing to other frameworks. Then I decided to build this using GatsbyJS because I wanted this to be SEO friendly and CRA was not providing anything like that and I was not sure about the NextJS.</p>
<p>So I built this site with GatsbyJS and after 100 days or before that I started working with NextJS. I decided to learn NextJS to built a website for someone I knew and it was also much easier to work with than GatsbyJS. By easy I mean that in GatsbyJS you have to install plugins and do configurations etc to add extra functionality and so.</p>
<p>It is same in NextJS, that is to add some extra functionality or using third-party packages in the codebase. But comparing to GatsbyJS it is much easier in my opinion.</p>
<p>Then later last month I built my <a href="zainsci.github.io">Personal Website</a> with NextJS with a new design and a Dark Theme Feature. So I decided to rebuilt this blog with NextJS and change styling and add a Dark Mode to it too. But how am I going to do it.</p>
<h3>Removing GatsbyJS Related Files</h3>
<p>To start with I created a new git branch with name <code>next</code> and removed all <code>gatsby-*.js</code> files.</p>
<pre><code class="language-bash">zainsci@zainsci-PC /d/zainsci-blog (next)
$ git checkout -b next
Switched to new branch "next"
zainsci@zainsci-PC /d/zainsci-blog (next)
$ ls
content            gatsby-config.js  LICENSE       package.json
README.md          static            yarn.lock     gatsby-browser.js
gatsby-node.js     node_modules      package-lock.json
src                styles
</code></pre>
<p>Then i removed all the gatsby related packages from the <code>package.json</code> file and after that installed <code>next</code> with npm along with other packages like <code>remark</code> and <code>remakr-html</code> as I will be needing these when converting markdown files to html.</p>
<pre><code class="language-bash">zainsci@zainsci-PC /d/zainsci-blog (next)
$ npm install next remark remark-html
</code></pre>
<p>Gatsby keeps all the files js and other source code files in the <code>src</code> dir while NextJS in the root dir. Currently my src folder looks like this.</p>
<pre><code class="language-bash">zainsci@zainsci-PC /d/zainsci-blog (next)
$ ls src
component   css  pages  templates
</code></pre>
<p><code>components</code> include react components like navbar and footer etc, pages include pages like <code>404.js</code> and <code>index.js</code> and so and templates include template for blog post page and css. <code>pages</code> and <code>templates</code> are created by the GatsbyCLI.</p>
<p>I moved the <code>components</code>, <code>pages</code> and <code>templates</code> dir to the root dir, moved the <code>templates</code> folder files to <code>pages</code> folder as they will be usefull there and removed the <code>src</code> folder along with the css as I will be rewriting all the css for the blog.</p>
<h3>Static Files</h3>
<p>Gatsby keeps all the static files in the static folder by default and Next keeps static files in the public folder by default so I renamed the static to public and before that removed the public dir that GatsbyCLI creates as a result of rendering static pages.</p>
<p>Here came a problem for me that I will be discussing in the next post. As in the list above of all the files and folders in the root dir there is a <code>content</code> dir that is used to keep all the markdown files for the blog in a folder called <code>blog</code> and other assets like images and such in dir <code>assets</code>. It is like another static folder for the blog.</p>
<h3>Removing Gatsby Related Code</h3>
<p>After moving and deleting all necessary files I added scripts for the NextJS in package.json file and started the dev server. The server one by one helped me in removing all the unnecessary code and at the end I was left with an empty page in the browser at <code>localhost:3000</code>. And I will explain the remaining in the next or next next post.</p>
</section></article><br/><br/><br/><hr/></main><footer class="footer"><div>Copyright Â© <!-- -->2021<!-- --> zainsci</div><div>Built with Next.js by<!-- --> <a href="https://zainsci.github.io" target="_blank" rel="noopener noreferrer">zainsci</a></div><div><div><div class="social__icons undefined"><a href="https://twitter.com/zainsci" target="_blank" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://instagram.com/zainsci" target="_blank" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-instagram"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a><a href="https://github.com/zainsci" target="_blank" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Day 128 - Migrating From GatsbyJS To NextJS [0]","date":"2021-05-08","slug":"day-128","content":"\u003cp\u003eI started this blog at the start of this year and when i started this I thought of building this blog with a JS framework and for that i deceided react and also becasue it was so much to easy to work with comparing to other frameworks. Then I decided to build this using GatsbyJS because I wanted this to be SEO friendly and CRA was not providing anything like that and I was not sure about the NextJS.\u003c/p\u003e\n\u003cp\u003eSo I built this site with GatsbyJS and after 100 days or before that I started working with NextJS. I decided to learn NextJS to built a website for someone I knew and it was also much easier to work with than GatsbyJS. By easy I mean that in GatsbyJS you have to install plugins and do configurations etc to add extra functionality and so.\u003c/p\u003e\n\u003cp\u003eIt is same in NextJS, that is to add some extra functionality or using third-party packages in the codebase. But comparing to GatsbyJS it is much easier in my opinion.\u003c/p\u003e\n\u003cp\u003eThen later last month I built my \u003ca href=\"zainsci.github.io\"\u003ePersonal Website\u003c/a\u003e with NextJS with a new design and a Dark Theme Feature. So I decided to rebuilt this blog with NextJS and change styling and add a Dark Mode to it too. But how am I going to do it.\u003c/p\u003e\n\u003ch3\u003eRemoving GatsbyJS Related Files\u003c/h3\u003e\n\u003cp\u003eTo start with I created a new git branch with name \u003ccode\u003enext\u003c/code\u003e and removed all \u003ccode\u003egatsby-*.js\u003c/code\u003e files.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ezainsci@zainsci-PC /d/zainsci-blog (next)\r\n$ git checkout -b next\r\nSwitched to new branch \"next\"\r\nzainsci@zainsci-PC /d/zainsci-blog (next)\r\n$ ls\r\ncontent            gatsby-config.js  LICENSE       package.json\r\nREADME.md          static            yarn.lock     gatsby-browser.js\r\ngatsby-node.js     node_modules      package-lock.json\r\nsrc                styles\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen i removed all the gatsby related packages from the \u003ccode\u003epackage.json\u003c/code\u003e file and after that installed \u003ccode\u003enext\u003c/code\u003e with npm along with other packages like \u003ccode\u003eremark\u003c/code\u003e and \u003ccode\u003eremakr-html\u003c/code\u003e as I will be needing these when converting markdown files to html.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ezainsci@zainsci-PC /d/zainsci-blog (next)\r\n$ npm install next remark remark-html\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eGatsby keeps all the files js and other source code files in the \u003ccode\u003esrc\u003c/code\u003e dir while NextJS in the root dir. Currently my src folder looks like this.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ezainsci@zainsci-PC /d/zainsci-blog (next)\r\n$ ls src\r\ncomponent   css  pages  templates\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003ecomponents\u003c/code\u003e include react components like navbar and footer etc, pages include pages like \u003ccode\u003e404.js\u003c/code\u003e and \u003ccode\u003eindex.js\u003c/code\u003e and so and templates include template for blog post page and css. \u003ccode\u003epages\u003c/code\u003e and \u003ccode\u003etemplates\u003c/code\u003e are created by the GatsbyCLI.\u003c/p\u003e\n\u003cp\u003eI moved the \u003ccode\u003ecomponents\u003c/code\u003e, \u003ccode\u003epages\u003c/code\u003e and \u003ccode\u003etemplates\u003c/code\u003e dir to the root dir, moved the \u003ccode\u003etemplates\u003c/code\u003e folder files to \u003ccode\u003epages\u003c/code\u003e folder as they will be usefull there and removed the \u003ccode\u003esrc\u003c/code\u003e folder along with the css as I will be rewriting all the css for the blog.\u003c/p\u003e\n\u003ch3\u003eStatic Files\u003c/h3\u003e\n\u003cp\u003eGatsby keeps all the static files in the static folder by default and Next keeps static files in the public folder by default so I renamed the static to public and before that removed the public dir that GatsbyCLI creates as a result of rendering static pages.\u003c/p\u003e\n\u003cp\u003eHere came a problem for me that I will be discussing in the next post. As in the list above of all the files and folders in the root dir there is a \u003ccode\u003econtent\u003c/code\u003e dir that is used to keep all the markdown files for the blog in a folder called \u003ccode\u003eblog\u003c/code\u003e and other assets like images and such in dir \u003ccode\u003eassets\u003c/code\u003e. It is like another static folder for the blog.\u003c/p\u003e\n\u003ch3\u003eRemoving Gatsby Related Code\u003c/h3\u003e\n\u003cp\u003eAfter moving and deleting all necessary files I added scripts for the NextJS in package.json file and started the dev server. The server one by one helped me in removing all the unnecessary code and at the end I was left with an empty page in the browser at \u003ccode\u003elocalhost:3000\u003c/code\u003e. And I will explain the remaining in the next or next next post.\u003c/p\u003e\n","tags":["GatsbyJS","NextJS","JavaScript"]}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"day-128"},"buildId":"-oGmtyB-9-_N3DWHta1uH","assetPrefix":"/blog","isFallback":false,"gsp":true}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/blog/_next/static/chunks/webpack-a7057d0e0ef277a3ac8f.js" async=""></script><script src="/blog/_next/static/chunks/framework-9bf9f61c21c28db23d5b.js" async=""></script><script src="/blog/_next/static/chunks/commons-0392153403293a8cddd0.js" async=""></script><script src="/blog/_next/static/chunks/main-06aae30c278b6ca2f76a.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-117f6fafc0903339435d.js" async=""></script><script src="/blog/_next/static/chunks/296-8ee5d6e875fb38ba58c0.js" async=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-4fb861a235fdc57dda1f.js" async=""></script><script src="/blog/_next/static/-oGmtyB-9-_N3DWHta1uH/_buildManifest.js" async=""></script><script src="/blog/_next/static/-oGmtyB-9-_N3DWHta1uH/_ssgManifest.js" async=""></script></body></html>